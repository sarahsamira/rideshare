(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{157:function(t,a,s){"use strict";s.r(a);var e=s(1),i=s(2),n={components:{Layout:e.default},mixins:[i.a],data:function(){return{firstChat:"",messageText:"",conversation:[]}},props:{users:Array},computed:{},created:function(){},mounted:function(){var t=this;this.users.length>1&&this.openChat(this.users[0]),Echo.channel("admin-chat.".concat(this.$page.auth.user.id)).listen("AdminChatMessage",(function(a){t.handleMessage(a)}))},methods:{openChat:function(t){var a=this;this.firstChat=t;var s="/admins/message/get/"+t.id;this.$loading(!0),axios.get(s).then((function(t){a.$loading(!1),a.conversation=t.data.data,setTimeout((function(){a.$refs.convrs.scrollTop=a.$refs.convrs.scrollHeight-a.$refs.convrs.clientHeight}),50)}))},sendMessage:function(){var t=this;axios.post("/admins/message",{from:this.$page.auth.user.id,to:this.firstChat.id,message:this.messageText}).then((function(a){t.messageText="",t.conversation.push(a.data),setTimeout((function(){t.$refs.convrs.scrollTop=t.$refs.convrs.scrollHeight-t.$refs.convrs.clientHeight}),50)}))},trigger:function(){this.$refs.messageSent.click()},handleMessage:function(t){var a=this;t.message.from===this.firstChat.id&&(this.conversation.push(t.message),setTimeout((function(){a.$refs.convrs.scrollTop=a.$refs.convrs.scrollHeight-a.$refs.convrs.clientHeight}),50))}}},o=(s(281),s(0)),r=Object(o.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("layout",{attrs:{title:"Admin | Messages"}},[e("div",{staticClass:"content-page"},[e("div",{staticClass:"content"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("div",{staticClass:"page-title-box"},[e("h4",{staticClass:"page-title"},[t._v("Dashboard")]),t._v(" "),e("ol",{staticClass:"breadcrumb p-0 m-0"},[e("li",{attrs:{CLASS:"active"}},[t._v("\n                                    Messages\n                                ")])]),t._v(" "),e("div",{staticClass:"clearfix"})])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"card-box"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 pc-only",staticStyle:{"padding-top":"20px","box-shadow":"2px 2px 7px 2px #ccc"}},[e("div",{staticClass:"contact"},[e("input",{staticClass:"search-contact",attrs:{type:"text",placeholder:"Find contact"}}),t._v(" "),e("i",{staticClass:"fa fa-search posi-search"})]),t._v(" "),e("hr",{staticClass:"m-t-10"}),t._v(" "),e("h4",[t._v("Contacts")]),t._v(" "),e("div",{ref:"convrs",staticClass:"inbox-widget slimscroll-alt",staticStyle:{"max-height":"500px","min-height":"400px!important"}},t._l(t.users,(function(a){return e("div",{key:a.id},[e("div",{staticClass:"inbox-item",on:{click:function(s){return s.preventDefault(),t.openChat(a)}}},[e("div",{staticClass:"inbox-item-img"},[a.profile_picture?e("img",{staticClass:"img-circle",attrs:{src:a.profile_picture,alt:""}}):e("img",{staticClass:"img-circle",attrs:{src:s(9),alt:""}})]),t._v(" "),e("p",{staticClass:"inbox-item-author"},[t._v(t._s(a.first_name))]),t._v(" "),e("p",{staticClass:"inbox-item-text"},[t._v("I've finished it! See you so...")]),t._v(" "),e("p",{staticClass:"inbox-item-date"},[e("span",{staticClass:"text-muted"},[t._v("12:28 pm")])])])])})),0)]),t._v(" "),e("div",{staticClass:"col-md-9",staticStyle:{"min-height":"600px"}},[e("div",{staticClass:"info-box"},[e("div",{staticClass:"contact-name-box"},[e("div",{staticStyle:{height:"50px",width:"50px","border-radius":"20px"}},[t.firstChat.profile_picture?e("img",{staticClass:"img-circle",attrs:{src:t.firstChat.profile_picture,height:"50px",width:"50px",alt:""}}):e("img",{staticClass:"img-circle",attrs:{src:s(9),alt:""}})]),t._v(" "),e("p",{staticStyle:{"line-height":"50px","padding-left":"15px","font-family":"inherit","font-size":"20px"}},[t._v(t._s(t.firstChat.first_name)+" "+t._s(t.firstChat.last_name))]),t._v(" "),e("span",[e("i",{staticClass:"fa fa-dot-circle-o text-success",staticStyle:{position:"absolute",top:"40%",right:"40px"}})])])]),t._v(" "),e("div",{staticClass:"chat-conversation"},[t.conversation.length>0?e("ul",{ref:"convrs",staticClass:"conversation-list slimscroll-alt",staticStyle:{"min-height":"452px !important","max-height":"500px","overflow-x":"scroll","padding-bottom":"50px"}},t._l(t.conversation,(function(a){return e("li",{staticClass:"clearfix",class:a.from===t.firstChat.id?"":"odd"},[e("div",{staticClass:"chat-avatar"},[t.firstChat.profile_picture&&a.from===t.firstChat.id?e("img",{attrs:{src:t.firstChat.profile_picture,alt:"male"}}):t.firstChat.profile_picture||a.from!==t.firstChat.id?t.$page.auth.user.profile_picture&&a.from!==t.firstChat.id?e("img",{attrs:{src:t.$page.auth.user.profile_picture,alt:"male"}}):t._e():e("img",{attrs:{src:s(9),alt:"male"}}),t._v(" "),t.$page.auth.user.profile_picture||a.from===t.firstChat.id?t._e():e("img",{attrs:{src:s(9),alt:"male"}}),t._v(" "),e("i",[t._v("10:00")])]),t._v(" "),e("div",{staticClass:"conversation-text"},[e("div",{staticClass:"ctext-wrap"},[a.from===t.firstChat.id?e("i",[t._v(t._s(t.firstChat.first_name)+" "+t._s(t.firstChat.last_name))]):e("i",[t._v(t._s(t.$page.auth.user.first_name)+" "+t._s(t.$page.auth.user.last_name))]),t._v(" "),e("p",[t._v("\n                                                        "+t._s(a.message)+"\n                                                    ")])])])])})),0):e("ul",{staticClass:"conversation-list slimscroll-alt",staticStyle:{"min-height":"452px !important","max-height":"500px","overflow-x":"scroll","padding-bottom":"50px"}},[e("li",{staticStyle:{"text-align":"center","margin-top":"20px","margin-bottom":"20px"}},[e("i",{staticClass:"fa fa-info-circle text-primary"}),t._v("Â No message")])])]),t._v(" "),"0"===t.firstChat.deactivated?e("div",{staticClass:"message-compose-box"},[e("div",{staticClass:"grab-box"},[e("i",{staticClass:"fa fa-2x fa-clipboard text-primary"}),t._v(" "),e("i",{staticClass:"fa fa-2x fa-file-image-o text-primary"})]),t._v(" "),e("div",{staticClass:"input-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.messageText,expression:"messageText"}],staticClass:"message-input",attrs:{type:"text",placeholder:"Type here message"},domProps:{value:t.messageText},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.trigger(a)},input:function(a){a.target.composing||(t.messageText=a.target.value)}}}),t._v(" "),e("i",{ref:"messageSent",staticClass:"fa fa-2x fa-send text-info",staticStyle:{position:"absolute",top:"9px",right:"18px","font-size":"22px"},on:{click:function(a){return a.preventDefault(),t.sendMessage(a)}}})])]):e("div",{staticClass:"message-deactivate-box"},[e("p",{staticClass:"text-center",staticStyle:{color:"white"}},[t._v("This account is being deactivated.")])])])])])])])])])])}),[],!1,null,"6e14f5fe",null);a.default=r.exports},213:function(t,a,s){(t.exports=s(3)(!1)).push([t.i,"@keyframes fadeOut{from{opacity:1}to{opacity:0}}.fadeOut{animation-name:fadeOut}@keyframes fadeInDown{from{opacity:0;transform:translate3d(0, -100%, 0)}to{opacity:1;transform:none}}.fadeInDown{animation-name:fadeInDown}@keyframes fadeInUp{from{opacity:0;transform:translate3d(0, 100%, 0)}to{opacity:1;transform:none}}.fadeInUp{animation-name:fadeInUp}.fade-enter-active,.fade-leave-active{transition:opacity 150ms ease-out}.fade-enter,.fade-leave-to{opacity:0}.notices{position:fixed;display:flex;top:0;bottom:0;left:0;right:0;padding:2em;overflow:hidden;z-index:1052;pointer-events:none}.notices .toast{display:inline-flex;align-items:center;animation-duration:150ms;margin:.5em 0;box-shadow:0 1px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);border-radius:.25em;pointer-events:auto;opacity:.92;color:#fff;min-height:3em;cursor:pointer}.notices .toast .toast-text{margin:0;padding:.5em 1em;word-break:break-all}.notices .toast .toast-icon{display:none}.notices .toast-success{background-color:#28a745}.notices .toast-info{background-color:#17a2b8}.notices .toast-warning{background-color:#ffc107}.notices .toast-error{background-color:#dc3545}.notices .toast-default{background-color:#343a40}.notices .toast.is-top,.notices .toast.is-bottom{align-self:center}.notices .toast.is-top-right,.notices .toast.is-bottom-right{align-self:flex-end}.notices .toast.is-top-left,.notices .toast.is-bottom-left{align-self:flex-start}.notices.is-top{flex-direction:column}.notices.is-bottom{flex-direction:column-reverse}.notices.is-custom-parent{position:absolute}@media screen and (max-width: 768px){.notices{padding:0;position:fixed !important}}\n",""])},281:function(t,a,s){"use strict";var e=s(64);s.n(e).a},282:function(t,a,s){(t.exports=s(3)(!1)).push([t.i,"\n.search-contact[data-v-6e14f5fe]{\n    width: 95%;\n    padding: 5px;\n    border-radius: 15px;\n    background-color: #eee;\n    border: 1px solid #ccc;\n    padding-left: 10px;\n}\n.posi-search[data-v-6e14f5fe]{\n    position: absolute;\n    top: 30px;\n    right: 42px;\n}\n.contact-name-box[data-v-6e14f5fe]{\n    display: flex;\n}\n.info-box[data-v-6e14f5fe]{\n    position: relative;\n    box-shadow: 3px 2px 4px 2px #ccc;\n    padding: 5px;\n    margin-bottom: 15px;\n}\n.message-compose-box[data-v-6e14f5fe]{\n    z-index: 100;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    background-color: white;\n    box-shadow: 1px 1px 5px 1px #ccc;\n    padding: 15px;\n    display: flex;\n}\n.message-deactivate-box[data-v-6e14f5fe]{\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    background-color: blue;\n    z-index: 100;\n    box-shadow: 2px -3px 2px 1px #ccc;\n    padding: 15px;\n}\n.input-box[data-v-6e14f5fe]{\n    width: 60%;\n    position: relative;\n}\n.message-input[data-v-6e14f5fe]{\n    width: 100%;\n    padding: 10px;\n    border: 1px solid #ccc;\n    background-color: #ebebeb;\n    border-radius: 15px;\n    padding-right: 45px;\n}\n.grab-box[data-v-6e14f5fe]{\n    position: relative;\n    display: flex;\n    padding:5px;\n    width: 40%;\n}\n.grab-box i[data-v-6e14f5fe]{\n    margin-right: 15px;\n}\ni[data-v-6e14f5fe]{\n    cursor: pointer;\n}\n.inbox-item[data-v-6e14f5fe]:hover{\n    background-color: #dcdfdf;\n    cursor: pointer;\n}\n@media only screen and (max-width: 500px) {\n.pc-only[data-v-6e14f5fe] {\n        display: none !important;\n}\n}\n",""])},64:function(t,a,s){var e=s(282);"string"==typeof e&&(e=[[t.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s(4)(e,i);e.locals&&(t.exports=e.locals)}}]);
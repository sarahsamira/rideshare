(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{141:function(e,s,i){"use strict";i.r(s);var t=i(1),n=i(2),o={components:{Layout:t.default},mixins:[n.a],data:function(){return{importFileName:"",importFile:"",selectedPermissions:[],multiplePermissions:[],customConCat:"",customAllConCat:"",finalPermissions:[],allPermissions:[],roleForm:{id:"",name:"",slug:"",permissions:[],alls:[]},roleFormError:{name:"",slug:""}}},props:{permissions:Array,name:String,slug:String,selectedP:Array,id:Number},computed:{replaced:function(){var e=this.roleForm.name.toLowerCase();return this.roleForm.slug=e.split(" ").join("_"),this.roleForm.slug}},created:function(){},mounted:function(){this.roleForm.id=this.id,this.roleForm.name=this.name,this.roleForm.slug=this.slug,this.selectedPermissions=this.selectedP,this.checkParentAll()},methods:{deleteRole:function(){var e=this;this.$confirm("Are you sure to delete the role?","Warning","warning").then((function(){e.$inertia.delete("/admins/admin-roles/"+e.id).then((function(){}))}))},checkParentAll:function(){for(var e=0;e<this.permissions.length;e++)if("resource"===this.permissions[e].type&&this.selectedPermissions.includes(this.permissions[e].name+".add")&&this.selectedPermissions.includes(this.permissions[e].name+".edit")&&this.selectedPermissions.includes(this.permissions[e].name+".view")&&this.selectedPermissions.includes(this.permissions[e].name+".delete")&&this.multiplePermissions.push(this.permissions[e].name),"custom"===this.permissions[e].type){for(var s=this.permissions[e].custom.split(", "),i=[],t=0;t<s.length;t++)this.selectedPermissions.includes(this.permissions[e].name+"."+s[t])?i.push(1):i.push(-1);-1===i.indexOf(-1)&&this.multiplePermissions.push(this.permissions[e].name)}},customLoopAdd:function(e,s,i){this.selectedPermissions.includes(this.customConCat+"."+e)||this.selectedPermissions.push(this.customConCat+"."+e)},customLoopRemove:function(e,s,i){var t=this.selectedPermissions.indexOf(this.customConCat+"."+e);-1!==t&&this.selectedPermissions.splice(t,1)},customAllAppend:function(e,s,i){this.allPermissions.push(this.customAllConCat+"."+e)},listAll:function(e,s,i){if("single"===e.type)this.allPermissions.push(e.name);else if("resource"===e.type)this.allPermissions.push(e.name+".view"),this.allPermissions.push(e.name+".add"),this.allPermissions.push(e.name+".edit"),this.allPermissions.push(e.name+".delete");else{var t=e.custom.split(", ");this.customAllConCat=e.name,t.forEach(this.customAllAppend),this.customAllConCat=""}},checkType:function(e){if("resource"===e.type)if(this.multiplePermissions.includes(e.name))this.selectedPermissions.includes(e.name+".view")||this.selectedPermissions.push(e.name+".view"),this.selectedPermissions.includes(e.name+".add")||this.selectedPermissions.push(e.name+".add"),this.selectedPermissions.includes(e.name+".edit")||this.selectedPermissions.push(e.name+".edit"),this.selectedPermissions.includes(e.name+".delete")||this.selectedPermissions.push(e.name+".delete");else{var s=this.selectedPermissions.indexOf(e.name+".view");this.selectedPermissions.splice(s,1);var i=this.selectedPermissions.indexOf(e.name+".add");this.selectedPermissions.splice(i,1);var t=this.selectedPermissions.indexOf(e.name+".edit");this.selectedPermissions.splice(t,1);var n=this.selectedPermissions.indexOf(e.name+".delete");this.selectedPermissions.splice(n,1)}else if(this.multiplePermissions.includes(e.name)){this.customConCat=e.name;var o=e.custom.split(", ");o.forEach(this.customLoopAdd),this.customConCat=""}else this.customConCat=e.name,(o=e.custom.split(", ")).forEach(this.customLoopRemove),this.customConCat=""},roleAdd:function(){""===this.roleForm.name||""===this.roleForm.slug?(""===this.roleForm.name?this.roleFormError.name="Name required":this.roleFormError.name="",""===this.roleForm.slug?this.roleFormError.slug="Slug required":this.roleFormError.slug=""):(this.roleForm.permissions=this.selectedPermissions,this.permissions.forEach(this.listAll),this.roleForm.alls=this.allPermissions,this.$inertia.put("/admins/admin-roles/"+this.roleForm.id,this.roleForm).then((function(){})))},getImportFile:function(e){this.importFile=e.target.files[0],this.importFileName="Selected file: "+e.target.files[0].name},importSubmit:function(){var e=this,s=new FormData;s.append("file",this.importFile),this.$inertia.post("/admins/admin-roles/excel/import",s).then((function(){e.importFile="";var s=e.$refs.fileupload;s.type="text",s.type="file",e.importFileName=""}))},childToMother:function(e){if(this.selectedPermissions.includes(e+".view")&&this.selectedPermissions.includes(e+".add")&&this.selectedPermissions.includes(e+".edit")&&this.selectedPermissions.includes(e+".delete"))this.multiplePermissions.includes(e)||this.multiplePermissions.push(e);else{var s=this.multiplePermissions.indexOf(e);-1!==s&&this.multiplePermissions.splice(s,1)}},childToMotherCustom:function(e){for(var s=e.custom.split(", "),i=0;i<s.length;i++)if(-1===this.selectedPermissions.indexOf(e.name+"."+s[i])){var t=this.multiplePermissions.indexOf(e.name);return-1!==t&&this.multiplePermissions.splice(t,1),void(s=[])}this.multiplePermissions.includes(e.name)||(s=[],this.multiplePermissions.push(e.name))}}},r=(i(299),i(0)),a=Object(r.a)(o,(function(){var e=this,s=e.$createElement,i=e._self._c||s;return i("layout",{attrs:{title:"Admin | Role Edit"}},[i("div",{staticClass:"content-page"},[i("div",{staticClass:"content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-12"},[i("div",{staticClass:"page-title-box"},[i("h4",{staticClass:"page-title"},[e._v("Dashboard")]),e._v(" "),i("ol",{staticClass:"breadcrumb p-0 m-0"},[i("li",[i("inertia-link",{attrs:{href:"/admins/dashboard"}},[e._v("Dashboard")])],1),e._v(" "),i("li",[i("inertia-link",{attrs:{href:"/admins/admin"}},[e._v("Admin")])],1),e._v(" "),i("li",{attrs:{CLASS:"active"}},[e._v("\n                                    Role Add\n                                ")])]),e._v(" "),i("div",{staticClass:"clearfix"})])])]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"card-box"},[i("h4",{staticClass:"header-title m-t-0 m-b-30"},[e._v("Deletes Role")]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("button",{staticClass:"btn btn-lg btn-block btn-danger",on:{click:function(s){return s.preventDefault(),e.deleteRole(s)}}},[i("i",{staticClass:"fa fa-trash"}),e._v("Delete")])])])])]),e._v(" "),i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"card-box"},[i("h4",{staticClass:"header-title m-t-0 m-b-30"},[e._v("Edit Role")]),e._v(" "),i("hr"),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.roleForm.name,expression:"roleForm.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"Add Name"},domProps:{value:e.roleForm.name},on:{input:function(s){s.target.composing||e.$set(e.roleForm,"name",s.target.value)}}}),e._v(" "),i("span",{staticClass:"text-danger"},[e._v(e._s(e.roleFormError.name))])])]),e._v(" "),i("div",{staticClass:"col-md-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.replaced,expression:"replaced"}],staticClass:"form-control",attrs:{type:"text",name:"slug",placeholder:"Add Slug"},domProps:{value:e.replaced},on:{input:function(s){s.target.composing||(e.replaced=s.target.value)}}}),e._v(" "),i("span",{staticClass:"text-danger"},[e._v(e._s(e.roleFormError.slug))])]),e._v(" "),e._l(e.permissions,(function(s){return i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"checkbox checkbox-success"},["single"!==s.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.multiplePermissions,expression:"multiplePermissions"}],attrs:{id:s.name,type:"checkbox"},domProps:{value:s.name,checked:Array.isArray(e.multiplePermissions)?e._i(e.multiplePermissions,s.name)>-1:e.multiplePermissions},on:{change:[function(i){var t=e.multiplePermissions,n=i.target,o=!!n.checked;if(Array.isArray(t)){var r=s.name,a=e._i(t,r);n.checked?a<0&&(e.multiplePermissions=t.concat([r])):a>-1&&(e.multiplePermissions=t.slice(0,a).concat(t.slice(a+1)))}else e.multiplePermissions=o},function(i){return e.checkType(s)}]}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPermissions,expression:"selectedPermissions"}],attrs:{id:s.name,type:"checkbox"},domProps:{value:s.name,checked:Array.isArray(e.selectedPermissions)?e._i(e.selectedPermissions,s.name)>-1:e.selectedPermissions},on:{change:function(i){var t=e.selectedPermissions,n=i.target,o=!!n.checked;if(Array.isArray(t)){var r=s.name,a=e._i(t,r);n.checked?a<0&&(e.selectedPermissions=t.concat([r])):a>-1&&(e.selectedPermissions=t.slice(0,a).concat(t.slice(a+1)))}else e.selectedPermissions=o}}}),e._v(" "),(s.type,i("label",{attrs:{for:s.name}},[e._v("\n                                                    "+e._s(s.name)+"\n                                                ")]))])]),e._v(" "),i("div",{staticClass:"col-md-6"}),e._v(" "),"resource"===s.type?i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"checkbox checkbox-success"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPermissions,expression:"selectedPermissions"}],attrs:{id:s.name+"view",type:"checkbox"},domProps:{value:s.name+".view",checked:Array.isArray(e.selectedPermissions)?e._i(e.selectedPermissions,s.name+".view")>-1:e.selectedPermissions},on:{change:[function(i){var t=e.selectedPermissions,n=i.target,o=!!n.checked;if(Array.isArray(t)){var r=s.name+".view",a=e._i(t,r);n.checked?a<0&&(e.selectedPermissions=t.concat([r])):a>-1&&(e.selectedPermissions=t.slice(0,a).concat(t.slice(a+1)))}else e.selectedPermissions=o},function(i){return e.childToMother(s.name)}]}}),e._v(" "),i("label",{attrs:{for:s.name+"view"}},[e._v("\n                                                        View\n                                                    ")])]),e._v(" "),i("div",{staticClass:"checkbox checkbox-success"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPermissions,expression:"selectedPermissions"}],attrs:{id:s.name+"add",type:"checkbox"},domProps:{value:s.name+".add",checked:Array.isArray(e.selectedPermissions)?e._i(e.selectedPermissions,s.name+".add")>-1:e.selectedPermissions},on:{change:[function(i){var t=e.selectedPermissions,n=i.target,o=!!n.checked;if(Array.isArray(t)){var r=s.name+".add",a=e._i(t,r);n.checked?a<0&&(e.selectedPermissions=t.concat([r])):a>-1&&(e.selectedPermissions=t.slice(0,a).concat(t.slice(a+1)))}else e.selectedPermissions=o},function(i){return e.childToMother(s.name)}]}}),e._v(" "),i("label",{attrs:{for:s.name+"add"}},[e._v("\n                                                        Add\n                                                    ")])]),e._v(" "),i("div",{staticClass:"checkbox checkbox-success"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPermissions,expression:"selectedPermissions"}],attrs:{id:s.name+"edit",type:"checkbox"},domProps:{value:s.name+".edit",checked:Array.isArray(e.selectedPermissions)?e._i(e.selectedPermissions,s.name+".edit")>-1:e.selectedPermissions},on:{change:[function(i){var t=e.selectedPermissions,n=i.target,o=!!n.checked;if(Array.isArray(t)){var r=s.name+".edit",a=e._i(t,r);n.checked?a<0&&(e.selectedPermissions=t.concat([r])):a>-1&&(e.selectedPermissions=t.slice(0,a).concat(t.slice(a+1)))}else e.selectedPermissions=o},function(i){return e.childToMother(s.name)}]}}),e._v(" "),i("label",{attrs:{for:s.name+"edit"}},[e._v("\n                                                        Update\n                                                    ")])]),e._v(" "),i("div",{staticClass:"checkbox checkbox-success"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPermissions,expression:"selectedPermissions"}],attrs:{id:s.name+"delete",type:"checkbox"},domProps:{value:s.name+".delete",checked:Array.isArray(e.selectedPermissions)?e._i(e.selectedPermissions,s.name+".delete")>-1:e.selectedPermissions},on:{change:[function(i){var t=e.selectedPermissions,n=i.target,o=!!n.checked;if(Array.isArray(t)){var r=s.name+".delete",a=e._i(t,r);n.checked?a<0&&(e.selectedPermissions=t.concat([r])):a>-1&&(e.selectedPermissions=t.slice(0,a).concat(t.slice(a+1)))}else e.selectedPermissions=o},function(i){return e.childToMother(s.name)}]}}),e._v(" "),i("label",{attrs:{for:s.name+"delete"}},[e._v("\n                                                        Delete\n                                                    ")])])])]):"custom"===s.type?i("div",{staticClass:"col-md-6"},[null!==s.custom?i("div",{staticClass:"col-md-12"},e._l(s.custom.split(", "),(function(t){return i("div",{staticClass:"checkbox checkbox-success"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPermissions,expression:"selectedPermissions"}],attrs:{id:s.name+t,type:"checkbox"},domProps:{value:s.name+"."+t,checked:Array.isArray(e.selectedPermissions)?e._i(e.selectedPermissions,s.name+"."+t)>-1:e.selectedPermissions},on:{change:[function(i){var n=e.selectedPermissions,o=i.target,r=!!o.checked;if(Array.isArray(n)){var a=s.name+"."+t,l=e._i(n,a);o.checked?l<0&&(e.selectedPermissions=n.concat([a])):l>-1&&(e.selectedPermissions=n.slice(0,l).concat(n.slice(l+1)))}else e.selectedPermissions=r},function(i){return e.childToMotherCustom(s)}]}}),e._v(" "),i("label",{attrs:{for:s.name+t}},[e._v("\n                                                        "+e._s(t)+"\n                                                    ")])])})),0):e._e()]):e._e(),e._v(" "),i("hr")])])})),e._v(" "),i("div",{staticClass:"col-md-12"},[i("button",{staticClass:"btn btn-primary btn-block btn-lg",attrs:{type:"button"},on:{click:e.roleAdd}},[i("i",{staticClass:"fa fa-save"}),e._v(" Save role")])])],2)])])])])])])])}),[],!1,null,"355ebbf4",null);s.default=a.exports},213:function(e,s,i){(e.exports=i(3)(!1)).push([e.i,"@keyframes fadeOut{from{opacity:1}to{opacity:0}}.fadeOut{animation-name:fadeOut}@keyframes fadeInDown{from{opacity:0;transform:translate3d(0, -100%, 0)}to{opacity:1;transform:none}}.fadeInDown{animation-name:fadeInDown}@keyframes fadeInUp{from{opacity:0;transform:translate3d(0, 100%, 0)}to{opacity:1;transform:none}}.fadeInUp{animation-name:fadeInUp}.fade-enter-active,.fade-leave-active{transition:opacity 150ms ease-out}.fade-enter,.fade-leave-to{opacity:0}.notices{position:fixed;display:flex;top:0;bottom:0;left:0;right:0;padding:2em;overflow:hidden;z-index:1052;pointer-events:none}.notices .toast{display:inline-flex;align-items:center;animation-duration:150ms;margin:.5em 0;box-shadow:0 1px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);border-radius:.25em;pointer-events:auto;opacity:.92;color:#fff;min-height:3em;cursor:pointer}.notices .toast .toast-text{margin:0;padding:.5em 1em;word-break:break-all}.notices .toast .toast-icon{display:none}.notices .toast-success{background-color:#28a745}.notices .toast-info{background-color:#17a2b8}.notices .toast-warning{background-color:#ffc107}.notices .toast-error{background-color:#dc3545}.notices .toast-default{background-color:#343a40}.notices .toast.is-top,.notices .toast.is-bottom{align-self:center}.notices .toast.is-top-right,.notices .toast.is-bottom-right{align-self:flex-end}.notices .toast.is-top-left,.notices .toast.is-bottom-left{align-self:flex-start}.notices.is-top{flex-direction:column}.notices.is-bottom{flex-direction:column-reverse}.notices.is-custom-parent{position:absolute}@media screen and (max-width: 768px){.notices{padding:0;position:fixed !important}}\n",""])},299:function(e,s,i){"use strict";var t=i(73);i.n(t).a},300:function(e,s,i){(e.exports=i(3)(!1)).push([e.i,"\ninput[type=file][data-v-355ebbf4] {\n    cursor: pointer;\n    width: 100%;\n    height: 58px;\n    overflow: hidden;\n}\ninput[type=file][data-v-355ebbf4]:before {\n    width: 100%;\n    height: 60px;\n    font-size: 16px;\n    line-height: 32px;\n    content: 'Select your file';\n    display: inline-block;\n    background: white;\n    border: 1px solid #000;\n    padding: 0 10px;\n    text-align: center;\n    font-family: Helvetica, Arial, sans-serif;\n}\ninput[type=file][data-v-355ebbf4]::-webkit-file-upload-button {\n    visibility: hidden;\n}\n",""])},73:function(e,s,i){var t=i(300);"string"==typeof t&&(t=[[e.i,t,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(4)(t,n);t.locals&&(e.exports=t.locals)}}]);